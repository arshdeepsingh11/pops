/* ======= TOKENS ======= */
:root{
  --bg:#F3F4F6; --ink:#1F2937; --ink-muted:#6B7280;
  --surface:#FFFFFF; --border:#E5E7EB; --accent:#3E415E;
  --radius:16px; --shadow:0 6px 16px rgba(15,23,42,.08);
  --glow-start:#a78bfa; --glow-end:#22d3ee;

  /* compact bottom bar */
  --tab-reserved: 72px;
  --tab-vpad: 6px;
  --tab-pill-h: 32px;
  --tab-icon: 22px;
  --tab-pill-radius: 10px;
  --tab-max-pill: 96px;
  --tab-label-size: 11px;
}
html.dark{
  --bg:#0B0B0D; --ink:#E5E7EB; --ink-muted:#9CA3AF;
  --surface:#121318; --border:#1F2430; --accent:#D1D5DB;
  --shadow:0 6px 22px rgba(0,0,0,.35);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, "Apple Color Emoji","Segoe UI Emoji";
  color:var(--ink); background:var(--bg);
}

/* kill rogue pseudo elements */
html::before, html::after, body::before, body::after{ content:none !important; display:none !important; }

/* ======= LAYOUT ======= */
.app-root{min-height:100dvh; display:flex; flex-direction:column}
.app-main{flex:1; padding-bottom: calc(var(--tab-reserved) + env(safe-area-inset-bottom))}

/* ======= TOPBAR ======= */
.topbar{
  position:sticky; top:0; z-index:20; background:var(--surface);
  border-bottom:1px solid var(--border); display:flex; align-items:center; justify-content:space-between;
  padding:10px 14px;
}
.topbar h1{margin:0; font-size:16px; letter-spacing:.12em}
.icon-btn{height:36px; width:36px; display:grid; place-items:center; color:var(--accent);
  border:1px solid var(--border); border-radius:12px; background:var(--surface); transition:transform .08s ease, background .2s ease;}
.icon-btn:active{transform:scale(.96);}
.svg{height:20px; width:20px}
.hamburger{display:grid; gap:4px}
.hamburger span{display:block; height:2px; width:20px; background:currentColor; border-radius:2px;}
.hamburger span:last-child{width:14px}

/* ======= CONTENT ======= */
.container{max-width:720px; margin:0 auto; padding:12px 12px 0}
.card{background:var(--surface); border:1px solid var(--border); border-radius:var(--radius); padding:12px; box-shadow:var(--shadow);}
.compose{display:flex; gap:12px; align-items:flex-start; margin:12px 0}
.input{flex:1; min-width:0; border:0; outline:0; background:transparent; color:var(--ink); font-size:14px; padding:8px 0}

/* FEED */
.feed-card{padding:12px; border-radius:var(--radius); border:1px solid var(--border); background:var(--surface); box-shadow:var(--shadow); margin:10px 0}
.feed-head{display:flex; gap:10px; align-items:center; margin-bottom:6px}
.author{font-weight:600}
.handle,.muted{color:var(--ink-muted); font-size:13px}
.feed-img{width:100%; border-radius:12px; overflow:hidden; border:1px solid var(--border); margin-top:8px}
.actions{display:flex; gap:18px; align-items:center; margin-top:10px; color:var(--ink-muted); font-size:13px}

/* Avatars & photos */
.avatar-img{height:36px; width:36px; border-radius:999px; object-fit:cover; object-position:center; border:1px solid var(--border); background:#f2f2f2;}
.avatar-fallback{height:36px; width:36px; border-radius:999px; border:1px solid var(--border); background: radial-gradient(120% 120% at 20% 20%, #22d3ee, #a78bfa);}
.feed-photo{display:block; width:100%; height:auto; border-radius:14px; border:1px solid var(--border);}

/* FAB */
.fab-wrap{position:fixed; right:16px; bottom: calc(var(--tab-reserved) + 8px); z-index:30; display:grid; gap:10px; justify-items:end}
.fab{height:56px; width:56px; border-radius:999px; border:0; display:grid; place-items:center; box-shadow:var(--shadow); color:#fff;
  background: radial-gradient(120% 120% at 20% 20%, var(--glow-start), var(--glow-end));}
.fab:active{transform:scale(.97);}

/* ======= BOTTOM TABS (compact, professional) ======= */
.bottom-tabs.pro-tabs{
  position:fixed; left:0; right:0; bottom:0; z-index:25;
  background:var(--surface); border-top:1px solid var(--border);
  display:flex; justify-content:space-around; align-items:center;
  padding: var(--tab-vpad) 8px calc(var(--tab-vpad) + env(safe-area-inset-bottom));
}
.bottom-tabs.pro-tabs a, .bottom-tabs.pro-tabs .tab{ text-decoration:none !important; color:inherit; }

/* tab */
.bottom-tabs.pro-tabs .tab{ flex:1; min-width:0; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:6px; color:var(--accent); padding:2px 0; }

/* pill & icon */
.bottom-tabs.pro-tabs .tab-pill{ position:relative; display:grid; place-items:center; height:var(--tab-pill-h); width:80%; max-width:var(--tab-max-pill);
  border-radius:var(--tab-pill-radius); transition:background .2s ease, box-shadow .2s ease; }
.bottom-tabs.pro-tabs .tab-icon{ position:relative; display:grid; place-items:center; height:var(--tab-icon); width:var(--tab-icon); }

/* label */
.bottom-tabs.pro-tabs .tab-label{ font-size:var(--tab-label-size); opacity:.75; letter-spacing:.01em }

/* active */
.bottom-tabs.pro-tabs .tab.active .tab-pill{ background:rgba(62,65,94,.06); box-shadow:0 2px 6px rgba(15,23,42,.06); }
.bottom-tabs.pro-tabs .tab.active .tab-icon::before{ content:""; position:absolute; inset:-3px; border-radius:12px;
  background: radial-gradient(110% 110% at 25% 25%, var(--glow-start), var(--glow-end)); filter: blur(8px); opacity:.5; z-index:-1; }
.bottom-tabs.pro-tabs .tab.active .tab-icon::after{ content:""; position:absolute; right:-1px; top:-1px; width:7px; height:7px; border-radius:50%;
  background: radial-gradient(circle at 30% 30%, #5eead4, rgba(34,211,238,0)); box-shadow:0 0 7px rgba(94,234,212,.9); }
.bottom-tabs.pro-tabs .tab.active{ color:#1f1f1f }
html.dark .bottom-tabs.pro-tabs .tab.active{ color:#fff }
html.dark .bottom-tabs.pro-tabs .tab .tab-label{ color:#c9cdd4; opacity:.8 }

/* hover (desktop) */
@media (hover:hover){
  .bottom-tabs.pro-tabs .tab .tab-pill:hover{ background:rgba(62,65,94,.08); box-shadow:0 2px 8px rgba(15,23,42,.08); }
}
/* hide labels on tiny screens */
@media (max-width:420px){ .bottom-tabs.pro-tabs .tab-label{ display:none } }

/* ======= SEARCH PAGE (Explore-style) ======= */
.search-wrap{ position:sticky; top:0; z-index:22; background:var(--bg); padding:12px 12px 8px; }
.search-row{ display:flex; align-items:center; gap:8px; }

.search-bar{
  display:flex; align-items:center; gap:10px;
  flex:1; min-width:0;
  background:#fff; border:1px solid var(--border);
  border-radius:999px; padding:8px 12px; box-shadow:var(--shadow);
}
.search-bar input{
  appearance:none; border:0; outline:0; background:transparent;
  width:100%; color:var(--ink); font-size:14px;
}
.search-icon{ color:var(--ink-muted); height:20px; width:20px; }

.icon-round{
  height:40px; width:40px; display:grid; place-items:center;
  background:#fff; border:1px solid var(--border); border-radius:999px;
  box-shadow:var(--shadow); color:var(--ink); transition:transform .08s ease;
}
.icon-round:active{ transform:scale(.96); }
.icon-round .svg{ height:20px; width:20px; }

.media-grid{
  padding:8px 12px 12px;
  display:grid; grid-template-columns:repeat(3,1fr); gap:8px;
}
.tile{
  position:relative; width:100%; aspect-ratio:1/1; overflow:hidden;
  border-radius:14px; background:#e9eaee; border:1px solid var(--border);
}
.tile img{ width:100%; height:100%; object-fit:cover; display:block; }
.play-badge{
  position:absolute; top:8px; right:8px;
  display:grid; place-items:center; width:28px; height:28px;
  border-radius:999px; background:rgba(0,0,0,.6); color:#fff;
}

/* dark tweaks */
html.dark .search-bar, html.dark .icon-round{ background:var(--surface); }
html.dark .media-grid .tile{ background:#16181f; border-color:#1f2430; }
